/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e={941:(e,t,r)=>{function n(e,t){if(0!==e[3]){var r=(1,n=e[3]-136,1*Math.pow(2,n));t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r}else t[0]=t[1]=t[2]=0;var n}function a(e,t){var r=e[0],n=e[1],a=e[2],i=Math.max(r,Math.max(n,a));if(i<1e-32)t[0]=t[1]=t[2]=t[3]=0;else{var o=function(e){var t={f:e=Number(e),e:0};if(0!==e&&Number.isFinite(e)){for(var r=Math.abs(e),n=Math.log2||function(e){return Math.log(e)*Math.LOG2E},a=Math.max(-1023,Math.floor(n(r))+1),i=r*Math.pow(2,-a);i>=1;)i*=.5,a++;for(;i<.5;)i*=2,a--;e<0&&(i=-i),t.f=i,t.e=a}return t}(i),E=o.f,s=o.e,u=E/i*256;t[0]=r*u,t[1]=n*u,t[2]=a*u,t[3]=s+128}}function i(e,t,r,n,i){var s,u=new Uint8Array([2,2,0,0]),l=new Uint8Array(4),T=new Float32Array(3);if(u[2]=(65280&t)>>8,u[3]=255&t,t<8||t>=32768)for(s=0;s<t;s++){switch(r){case 4:case 3:T[2]=i[s*r+2],T[1]=i[s*r+1],T[0]=i[s*r+0];break;default:T[0]=T[1]=T[2]=i[s*r+0]}a(T,l),e.push(l[0],l[1],l[2],l[3])}else{var c=void 0,f=void 0;for(s=0;s<t;s++){switch(r){case 4:case 3:T[2]=i[s*r+2],T[1]=i[s*r+1],T[0]=i[s*r+0];break;default:T[0]=T[1]=T[2]=i[s*r+0]}a(T,l),n[s+0*t]=l[0],n[s+1*t]=l[1],n[s+2*t]=l[2],n[s+3*t]=l[3]}for(e.push(u[0],u[1],u[2],u[3]),c=0;c<4;c++){var d=n.subarray(t*c);for(s=0;s<t;){for(f=s;f+2<t&&(d[f]!==d[f+1]||d[f]!==d[f+2]);)++f;for(f+2>=t&&(f=t);s<f;)(R=f-s)>128&&(R=128),o(e,R,d.subarray(s)),s+=R;if(f+2<t){for(;f<t&&d[f]==d[s];)++f;for(;s<f;){var R;(R=f-s)>127&&(R=127),E(e,R,d[s]),s+=R}}}}}}function o(e,t,r){var n=255&t;if(!(t<=128))throw new Error("length is greater than 128");e.push(n);for(var a=0;a<t;a++)e.push(r[a])}function E(e,t,r){var n=t+128&255;if(!(t+128<=255))throw new Error("length is greater than 128");e.push(n,r)}function s(e,t){for(var r=t.length,n=0;n<r;n++)if(e[n]!==t.charCodeAt(n))return!1;return!0}r.r(t),r.d(t,{default:()=>T});var u=1<<24;function l(e){var t="",r=0;if(!function(e){var t=s(e,"#?RADIANCE\n");return t||(t=s(e,"#?RGBE\n")),t}(e))return"Corrupt HDR image.";for(;!t.match(/\n\n[^\n]+\n/g)&&r<10240;)t+=String.fromCharCode(e[r++]);var a=t.match(/FORMAT=(.*)$/m)[1];if("32-bit_rle_rgbe"!==a)return"Unsupported HDR format: "+a;var i=t.split(/\n/).reverse()[1].split(" ");if("-Y"!==i[0]||"+X"!==i[2])return"Unsupported HDR format";var o,E,l=Number.parseFloat(i[3]),T=Number.parseFloat(i[1]);if(l>u||T>u)return"Very large image (corrupt?)";var c=e[r],f=e[r+1],d=e[r+2],R=2!==c||2!==f||!!(128&d),_=new Float32Array(l*T*3);if(l<8||l>=32768||R)for(E=0;E<T;++E)for(o=0;o<l;++o){var h=e.subarray(r,r+4);r+=4;var p=3*(E*l+o);n(h,_.subarray(p,p+3))}else for(var A,U,m,b=void 0,g=0;g<T;g++){if(A=e[r++],U=e[r++],m=e[r++],2!==A||2!==U||128&m)return"Invalid scanline";if(m<<=8,(m|=e[r++])!==l)return"invalid decoded scanline length";b||(b=new Uint8Array(4*l));for(var v=void 0,x=void 0,F=0;F<4;F++){var P=void 0;for(o=0;(P=l-o)>0;)if((v=e[r++])>128){if(x=e[r++],(v-=128)>P)return"bad RLE data in HDR";for(var M=0;M<v;M++)b[4*o+++F]=x}else{if(v>P)return"bad RLE data in HDR";for(M=0;M<v;M++)b[4*o+++F]=e[r++]}}for(var C=0;C<l;C++)n(b.subarray(4*C),_.subarray(3*(g*l+C)))}return{rgbFloat:_,width:l,height:T}}var T=Object.freeze({load:function(e){return new Promise((function(t,r){"undefined"==typeof XMLHttpRequest&&r("XMLHttpRequest is undefined, use HDRjs.read instead.");var n=new XMLHttpRequest;n.responseType="arraybuffer",n.onload=function(){if(n.status>=400)return r("Load successfully, but HTTP status code >= 400, status: "+n.status);var e=l(new Uint8Array(n.response));"string"==typeof e?r(e):t(e)},n.onerror=function(t){r("Failed to load: "+e)},n.open("GET",e,!0),n.send()}))},read:l,write:function(e,t,r){var n=[];return function(e,t,r,n,a){if(!(r<=0||t<=0)&&a){("#?RADIANCE\n# Written by hdr.js\nFORMAT=32-bit_rle_rgbe\nEXPOSURE=1.0\n\n-Y "+r+" +X "+t+"\n").split("").forEach((function(t){var r=t.charCodeAt(0);e.push(r)}));for(var o=new Uint8Array(4*t),E=0;E<r;E++)i(e,t,3,o,a.subarray(3*t*E))}}(n,e,t,0,r),new Uint8Array(n)},float2rgbe:a,rgbe2float:n})},997:(e,t,r)=>{function n(e){return"KEEP"===(e=e.toUpperCase())||"ZERO"===e||"REPLACE"===e||"INCR"===e||"DECR"===e||"INVERT"===e||"INCR_WRAP"===e||"DECR_WRAP"===e}function a(e,t){return null==e?t:e}r.r(t),r.d(t,{default:()=>d}),a.EMPTY_OBJECT=Object.freeze({});const i=window;function o(e){return null!=e}const E={36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED"};function s(e){return 0==(e&e-1)}const u={},l={},T={};function c(e){const{name:t,size:r,type:n}=e;let a=0;switch(n){case 5126:a=1*r;break;case 35664:a=2*r;break;case 35665:a=3*r;break;case 35666:case 35674:a=4*r;break;case 35675:a=9*r;break;case 35676:a=16*r;break;default:console.warn("无法识别 attribute "+t+" 的类型："+n)}return a}function f(e,t,r){const n=e.createBuffer();return r=a(r,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,t,r),n}const d={createContext:function(e){let t,r=(e=a(e,a.EMPTY_OBJECT)).canvas;return r||(r=i.document.createElement("canvas"),r.style.width="100vw",r.style.height="100vh",r.style.setProperty("display","block"),r.width=window.innerWidth,r.height=window.innerHeight),t=e.requireWebgl2?r.getContext("webgl2",e):r.getContext("webgl",e),t},setState:function(e,t){const{depthTest:r,stencilTest:a,colorMask:i,cull:E,blend:s,viewport:u,scissor:l}=t;if(E){E.enable?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE);let t=E.face&&E.face.toUpperCase();!t||"BACK"!==t&&"FRONT"!==t&&"FRONT_AND_BACK"!==t||e.cullFace(e[t])}if(r){if(!0===r.enable?e.enable(e.DEPTH_TEST):!1===r.enable&&e.disable(e.DEPTH_TEST),r.func){const t=r.func.toUpperCase();e.depthFunc(e[t])}!0===r.write?e.depthMask(!0):!1===r.write&&e.depthMask(!1)}if(a){if(!0===a.enable?e.enable(e.STENCIL_TEST):!1===a.enable&&e.disable(e.STENCIL_TEST),o(a.writeMask)&&e.stencilMask(a.writeMask),o(a.func)&&o(a.ref)&&o(a.readMask)){if(!1===function(e){return"NEVER"===(e=e.toUpperCase())||"ALWAYS"===e||"LESS"===e||"LEQUAL"===e||"NOTEQUAL"===e||"EQUAL"===e||"GREATER"===e||"GEQUAL"===e}(a.func))throw new Error("setState: stencil func is invalid, current is "+a.func+"!");const t=a.func.toUpperCase();e.stencilFunc(e[t],a.ref,a.readMask)}if(o(a.fail)&&o(a.zfail)&&o(a.zpass)){if(!1===n(a.fail)||!1===n(a.zfail)||!1===n(a.zpass))throw new Error("setState: stencil op is invalid!");const t=a.fail.toUpperCase(),r=a.zfail.toUpperCase(),i=a.zpass.toUpperCase();e.stencilOp(e[t],e[r],e[i])}}if(i&&e.colorMask(i[0],i[1],i[2],i[3]),s&&(!0===s.enable?e.enable(e.BLEND):!1===s.enable&&e.disable(e.BLEND),s.blendColor&&e.blendColor(...s.blendColor),s.blendEquation&&e.blendEquation(e[s.blendEquation.toUpperCase()]),s.blendFunc)){const t=s.blendFunc[0].toUpperCase(),r=s.blendFunc[1].toUpperCase();e.blendFunc(e[t],e[r])}if(u&&e.viewport(u[0],u[1],u[2],u[3]),l){!0===l.enable?e.enable(e.SCISSOR_TEST):!1===l.enable&&e.disable(e.SCISSOR_TEST);const t=l.rect;t&&e.scissor(t[0],t[1],t[2],t[3])}},clear:function(e,t){t=a(t,a.EMPTY_OBJECT);const{fb:r,color:n,depth:i,stencil:E}=t;e.bindFramebuffer(e.FRAMEBUFFER,r);let s=0;n&&(e.clearColor(n[0],n[1],n[2],n[3]),s|=e.COLOR_BUFFER_BIT),o(i)&&(e.clearDepth(i),s|=e.DEPTH_BUFFER_BIT),E&&(e.clearStencil(E),s|=e.STENCIL_BUFFER_BIT),0!==s&&e.clear(s)},draw:function(e,t){const{attributes:r,indices:n,vs:i,fs:o,count:E,fb:d}=t,R=a(t.primitiveType,e.TRIANGLES),_=a(t.uniforms,a.EMPTY_OBJECT);e.bindFramebuffer(e.FRAMEBUFFER,d);const h=i+o;let p=u[h];p||(p=function(e,t,r){const n=e.createShader(e.VERTEX_SHADER);e.shaderSource(n,t),e.compileShader(n);const a=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(a,r),e.compileShader(a);const i=e.createProgram();e.attachShader(i,n),e.attachShader(i,a),e.deleteShader(n),e.deleteShader(a),e.linkProgram(i);let o="";if(!e.getProgramParameter(i,e.LINK_STATUS))throw e.getShaderParameter(a,e.COMPILE_STATUS)||(o=e.getShaderInfoLog(a),console.error("Fragment shader failed to compiled: "+o)),e.getShaderParameter(n,e.COMPILE_STATUS)||(o=e.getShaderInfoLog(n),console.error("Vertex shader failed to compiled: "+o)),o=e.getProgramInfoLog(i),console.error("Shader program link log: "+o),new Error(info);return i}(e,i,o),u[h]=p),e.useProgram(p);const A=e.getProgramParameter(p,e.ACTIVE_ATTRIBUTES);for(let t=0;t<A;t++){const n=e.getActiveAttrib(p,t),a=n.name;if(Object.hasOwnProperty.call(r,a)){const t=r[a],i=e.getAttribLocation(p,a);if(-1===i)continue;const o=t.toString();let E=l[o];const s=c(n);if(Array.isArray(t)){const r=Float32Array;E||(E=f(e,new r(t)),l[o]=E),e.bindBuffer(e.ARRAY_BUFFER,E),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,s,e.FLOAT,!1,0,0)}else((U=t)instanceof Float32Array||U instanceof Uint8Array||U instanceof Uint16Array||U instanceof Uint32Array||U instanceof Int8Array||U instanceof Int16Array||U instanceof Int32Array)&&(E||(E=f(e,t),l[o]=E),e.bindBuffer(e.ARRAY_BUFFER,E),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,s,e.FLOAT,!1,0,0))}}var U;const m=e.getProgramParameter(p,e.ACTIVE_UNIFORMS),b=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);let g=0;for(let t=0;t<m;t++){const r=e.getActiveUniform(p,t),n=r.name;if(Object.hasOwnProperty.call(_,n)){const t=_[n],a=e.getUniformLocation(p,n);if(null===a)continue;const i=typeof t,o=e.TEXTURE0+g;if(t instanceof WebGLTexture){if(e.activeTexture(o),r.type===e.SAMPLER_2D)e.bindTexture(e.TEXTURE_2D,t);else{if(r.type!==e.SAMPLER_CUBE)throw new Error(r,"type MUST be SAMPLER_2D or SAMPLER_CUBE");e.bindTexture(e.TEXTURE_CUBE_MAP,t)}e.uniform1i(a,g),g++}else if(v=t,Array.isArray(v)||v&&"object"==typeof v&&"number"==typeof v.length&&(0===v.length||v.length>0&&v.length-1 in v)){const r=t.length;if(r<=4)e["uniform"+r+"fv"](a,t);else if(r<=16){const n=Math.floor(Math.sqrt(r)),i=!1;e["uniformMatrix"+n+"fv"](a,i,Array.from(t))}}else if("number"===i)e.uniform1f(a,t);else if("string"===i){if(g>b){console.error("texture exceed maximum texture units.");continue}let r=T[t];if(!r){r=e.createTexture(),e.activeTexture(o),e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([255,255,255,255]));const n=new Image;n.src=t,n.addEventListener("load",(()=>{e.activeTexture(o),e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),s(n.width)&&s(n.height)&&(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.generateMipmap(e.TEXTURE_2D))})),T[t]=r}e.activeTexture(o),e.bindTexture(e.TEXTURE_2D,r),e.uniform1i(a,g),g++}}}var v;if(n&&n.length>0){let t,r,i=Number.MIN_SAFE_INTEGER;for(const e of n)i=Math.max(e,i);i<=255?(t=e.UNSIGNED_BYTE,r=Uint8Array):i<=65535?(t=e.UNSIGNED_SHORT,r=Uint16Array):(t=e.UNSIGNED_INT,r=Uint32Array,e.getExtension("OES_element_index_unit"));const o=n.toString();let s=l[o];s||(s=function(e,t,r){const n=e.createBuffer();return r=a(r,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,r),n}(e,new r(n)),l[o]=s),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,s),e.drawElements(R,E,t,0)}else e.drawArrays(R,0,E)},createTexture:function(e,t){const{level:r,internalFormat:n,type:a,format:i,width:E,height:u,data:l,wrapS:T,wrapT:c,minFilter:f,magFilter:d,generateMipmap:R}=t,_=e.createTexture();if(e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,_),l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement)e.texImage2D(e.TEXTURE_2D,r,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,l);else{const t=0;e.texImage2D(e.TEXTURE_2D,r,n,E,u,t,i,a,l)}return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),o(T)&&e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,T),o(c)&&e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,c),o(f)&&e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,f),o(d)&&e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,d),!0===R&&(s(E)&&s(u)?e.generateMipmap(e.TEXTURE_2D):console.warn("createTexture: texture size is NOT power of two, current is "+E+"x"+u+".")),_},createCubeMap:function(e,t){t=a(t,a.EMPTY_OBJECT);const r=a(t.level,0),n=t.data,i=t.width,o=t.height,E=a(t.format,e.RGBA),s=a(t.type,e.UNSIGNED_BYTE),u=a(t.internalFormat,e.RGBA),l=e.createTexture();e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_CUBE_MAP,l);const T=[{target:e.TEXTURE_CUBE_MAP_POSITIVE_X,data:n.px},{target:e.TEXTURE_CUBE_MAP_NEGATIVE_X,data:n.nx},{target:e.TEXTURE_CUBE_MAP_POSITIVE_Y,data:n.py},{target:e.TEXTURE_CUBE_MAP_NEGATIVE_Y,data:n.ny},{target:e.TEXTURE_CUBE_MAP_POSITIVE_Z,data:n.pz},{target:e.TEXTURE_CUBE_MAP_NEGATIVE_Z,data:n.nz}];for(let t=0;t<6;t++){const n=T[t],a=n.target,l=n.data;l instanceof HTMLImageElement?e.texImage2D(a,r,u,E,s,l):e.texImage2D(a,r,u,i,o,0,E,s,l),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR)}return l},createFramebuffer:function(e,t){const{colorTexture:r,depthTexture:n,depthRenderbuffer:a}=t,i=e.createFramebuffer();if(e.bindFramebuffer(e.FRAMEBUFFER,i),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),n)e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,n,0);else if(a){const t=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,t),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,a.width,a.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}const o=e.checkFramebufferStatus(e.FRAMEBUFFER);if(o!==e.FRAMEBUFFER_COMPLETE)throw new Error("createFramebuffer: framebuffer combination is NOT completed! Current status is "+E[o]+".");return i}}},242:(e,t,r)=>{t.__esModule=!0;var n=r(941),a=r(997),i=a.default.createContext,o=a.default.draw,E=a.default.setState,s=a.default.createTexture,u=function(){function e(){var e=this;this.exposure=1,this.containerElem=document.createElement("div"),this.exposureValueElem=document.createElement("span"),this.exposureInputElem=document.createElement("input"),this.exposureInputElem.setAttribute("type","range"),this.exposureInputElem.setAttribute("min","0"),this.exposureInputElem.setAttribute("max","10"),this.exposureInputElem.setAttribute("value","1.0"),this.exposureInputElem.setAttribute("step","0.1"),this.exposureInputElem.addEventListener("input",(function(t){e.exposureValueElem.innerText="exposure: "+e.exposureInputElem.value,e.exposure=Number.parseFloat(e.exposureInputElem.value),e.rgbFloat&&e.width&&e.height&&e.render()})),this.exposureValueElem.innerText="exposure: "+this.exposure,this.containerElem.appendChild(this.exposureInputElem),this.containerElem.appendChild(this.exposureValueElem),this.pixelDataElem=document.createElement("div"),this.containerElem.appendChild(this.pixelDataElem),this.gl=i(),this.gl.canvas.style.display="inline-block",this.gl.getExtension("OES_texture_float")||alert("does not support float point texture"),this.gl.getExtension("OES_texture_float_linear"),this.gl.canvas.width=0,this.gl.canvas.height=0,this.gl.canvas.style.width="0px",this.gl.canvas.style.height="0px",this.gl.canvas.onpointerdown=function(t){var r=t.clientX-e.gl.canvas.getBoundingClientRect().left,n=t.clientY-e.gl.canvas.getBoundingClientRect().top,a=n*e.width+r,i=e.rgbFloat[3*a+0],o=e.rgbFloat[3*a+1],E=e.rgbFloat[3*a+2],s=[i.toFixed(7),o.toFixed(7),E.toFixed(7)];e.pixelDataElem.innerText="(".concat(r,", ").concat(n,") = (").concat(s,")")},this.containerElem.appendChild(this.gl.canvas),document.body.appendChild(this.containerElem)}return e.prototype.readHdr=function(e){var t=n.default.read(new Uint8Array(e));if("string"==typeof t)return alert(t),this;var r=this.gl;return this.rgbFloat=t.rgbFloat,this.width=t.width,this.height=t.height,this.texture&&(this.gl.deleteTexture(this.texture),this.texture=void 0),this.texture=s(r,{width:this.width,height:this.height,data:this.rgbFloat,format:r.RGB,type:r.FLOAT,internalFormat:r.RGB,minFilter:r.NEAREST,magFilter:r.NEAREST}),this},e.prototype.render=function(){var e=this.gl,t=this.width,r=this.height,n=this.texture,a=this.exposure,i=e.canvas;i.width=t,i.height=r,i.style.width=t+"px",i.style.height=r+"px",(t||r)&&(E(e,{viewport:[0,0,t,r]}),o(e,{vs:"\n        attribute vec2 aPosition;\n        varying vec2 vUv;\n        void main() {\n          gl_Position = vec4(aPosition, 0, 1);\n          vUv = (gl_Position.xy / gl_Position.w);\n          vUv = vUv*0.5+0.5;\n        }\n        ",fs:"\n        precision highp float;\n        varying vec2 vUv;\n        uniform sampler2D uTexture;\n        uniform float uExposure;\n        void main() {\n          vec2 uv = vec2(vUv.x, 1.0 - vUv.y);\n          gl_FragColor = texture2D(uTexture, uv);\n\n          gl_FragColor.rgb *= uExposure;\n          gl_FragColor.rgb = pow(gl_FragColor.rgb, vec3(1./2.2));\n\n          gl_FragColor.a = 1.0;\n        }\n      ",attributeLocations:{aPosition:0},attributes:{aPosition:[-1,-1,3,-1,-1,3]},uniforms:{uTexture:n,uExposure:a},count:3}))},e}();t.default=u}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=r(242),t=document.createElement("input");t.setAttribute("accept",".hdr"),t.setAttribute("type","file"),document.body.appendChild(t);var n=new e.default;t.addEventListener("input",(function(e){var r,a,i,o,E,s=t.files&&t.files[0];s&&(r=s,o=new Promise((function(e,t){a=e,i=t})),E=new FileReader,E.readAsArrayBuffer(new Blob([r])),E.onload=function(){if(E.readyState===FileReader.DONE){var e=E.result;a(e)}},E.onerror=function(e){i(e)},o).then((function(e){n.readHdr(new Uint8Array(e)).render()})).catch((function(e){alert(e)}))}))})()})();